<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Fri Jun 19 12:54:59 EDT 2015 -->
<title>PTCFunctionSet</title>
<meta name="date" content="2015-06-19">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PTCFunctionSet";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ec/gp/build/PTC2.html" title="class in ec.gp.build"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ec/gp/build/PTCFunctionSetForm.html" title="interface in ec.gp.build"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ec/gp/build/PTCFunctionSet.html" target="_top">Frames</a></li>
<li><a href="PTCFunctionSet.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ec.gp.build</div>
<h2 title="Class PTCFunctionSet" class="title">Class PTCFunctionSet</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../ec/gp/GPFunctionSet.html" title="class in ec.gp">ec.gp.GPFunctionSet</a></li>
<li>
<ul class="inheritance">
<li>ec.gp.build.PTCFunctionSet</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../ec/Clique.html" title="interface in ec">Clique</a>, <a href="../../../ec/gp/build/PTCFunctionSetForm.html" title="interface in ec.gp.build">PTCFunctionSetForm</a>, <a href="../../../ec/Setup.html" title="interface in ec">Setup</a>, java.io.Serializable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">PTCFunctionSet</span>
extends <a href="../../../ec/gp/GPFunctionSet.html" title="class in ec.gp">GPFunctionSet</a>
implements <a href="../../../ec/gp/build/PTCFunctionSetForm.html" title="interface in ec.gp.build">PTCFunctionSetForm</a></pre>
<div class="block">PTCFunctionSet is a GPFunctionSet which adheres to PTCFunctionSetForm, and thus
 can be used with the PTC1 and PTC2 methods.  Terminal and nonterminal probabilities
 for nodes used in this function set are determined by the <tt>prob</tt> parameter
 for the nodes' GPNodeConstraints object.  That's not the greatest solution,
 because it could require making a lot of different GPNodeConstraints, customized for each
 node, but it's the best I can do for now.

 The nonterminalSelectionProbabilities() method computes nonterminal selection
 probability using the probabilities above, per type, for the size requested.
 If the size is small enough (smaller than CACHE_SIZE), then the result is
 memoized so it doesn't need to be computed again next time.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../serialized-form.html#ec.gp.build.PTCFunctionSet">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#CACHE_SIZE">CACHE_SIZE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double[][]</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#p_y">p_y</a></strong></code>
<div class="block">cache of nonterminal selection probabilities -- dense array 
        [size-1][type].</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double[][]</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#q_ny">q_ny</a></strong></code>
<div class="block">nonterminal probabilities[type][thenodes], in organized form</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double[][]</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#q_ty">q_ty</a></strong></code>
<div class="block">terminal probabilities[type][thenodes], in organized form</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_ec.gp.GPFunctionSet">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;ec.gp.<a href="../../../ec/gp/GPFunctionSet.html" title="class in ec.gp">GPFunctionSet</a></h3>
<code><a href="../../../ec/gp/GPFunctionSet.html#name">name</a>, <a href="../../../ec/gp/GPFunctionSet.html#nodes">nodes</a>, <a href="../../../ec/gp/GPFunctionSet.html#nodes_h">nodes_h</a>, <a href="../../../ec/gp/GPFunctionSet.html#nodesByArity">nodesByArity</a>, <a href="../../../ec/gp/GPFunctionSet.html#nodesByName">nodesByName</a>, <a href="../../../ec/gp/GPFunctionSet.html#nonterminals">nonterminals</a>, <a href="../../../ec/gp/GPFunctionSet.html#nonterminals_h">nonterminals_h</a>, <a href="../../../ec/gp/GPFunctionSet.html#nonterminalsOverArity">nonterminalsOverArity</a>, <a href="../../../ec/gp/GPFunctionSet.html#nonterminalsUnderArity">nonterminalsUnderArity</a>, <a href="../../../ec/gp/GPFunctionSet.html#P_FUNC">P_FUNC</a>, <a href="../../../ec/gp/GPFunctionSet.html#P_NAME">P_NAME</a>, <a href="../../../ec/gp/GPFunctionSet.html#P_SIZE">P_SIZE</a>, <a href="../../../ec/gp/GPFunctionSet.html#terminals">terminals</a>, <a href="../../../ec/gp/GPFunctionSet.html#terminals_h">terminals_h</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#PTCFunctionSet()">PTCFunctionSet</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#computeNonterminalSelectionProbabilities(int)">computeNonterminalSelectionProbabilities</a></strong>(int&nbsp;expectedTreeSize)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#nonterminalProbabilities(int)">nonterminalProbabilities</a></strong>(int&nbsp;type)</code>
<div class="block">Returns an organized distribution (see ec.util.RandomChoice) of likelihoods
        that various nonterminals in the function set will be chosen over other nonterminals
        with the same return type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#nonterminalSelectionProbabilities(int)">nonterminalSelectionProbabilities</a></strong>(int&nbsp;expectedTreeSize)</code>
<div class="block">Returns an array (by return type) of the probability that PTC1 must pick a
        nonterminal over a terminal in order to guarantee the expectedTreeSize.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#setup(ec.EvolutionState, ec.util.Parameter)">setup</a></strong>(<a href="../../../ec/EvolutionState.html" title="class in ec">EvolutionState</a>&nbsp;state,
     <a href="../../../ec/util/Parameter.html" title="class in ec.util">Parameter</a>&nbsp;base)</code>
<div class="block">Must be done <i>after</i> GPType and GPNodeConstraints have been set up</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><strong><a href="../../../ec/gp/build/PTCFunctionSet.html#terminalProbabilities(int)">terminalProbabilities</a></strong>(int&nbsp;type)</code>
<div class="block">Returns an organized distribution (see ec.util.RandomChoice) of likelihoods
        that various terminals in the function set will be chosen over other terminals
        with the same return type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_ec.gp.GPFunctionSet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;ec.gp.<a href="../../../ec/gp/GPFunctionSet.html" title="class in ec.gp">GPFunctionSet</a></h3>
<code><a href="../../../ec/gp/GPFunctionSet.html#functionSetFor(java.lang.String, ec.EvolutionState)">functionSetFor</a>, <a href="../../../ec/gp/GPFunctionSet.html#postProcessFunctionSet()">postProcessFunctionSet</a>, <a href="../../../ec/gp/GPFunctionSet.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="q_ty">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>q_ty</h4>
<pre>public&nbsp;double[][] q_ty</pre>
<div class="block">terminal probabilities[type][thenodes], in organized form</div>
</li>
</ul>
<a name="q_ny">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>q_ny</h4>
<pre>public&nbsp;double[][] q_ny</pre>
<div class="block">nonterminal probabilities[type][thenodes], in organized form</div>
</li>
</ul>
<a name="CACHE_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CACHE_SIZE</h4>
<pre>public static final&nbsp;int CACHE_SIZE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#ec.gp.build.PTCFunctionSet.CACHE_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="p_y">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>p_y</h4>
<pre>public&nbsp;double[][] p_y</pre>
<div class="block">cache of nonterminal selection probabilities -- dense array 
        [size-1][type].  If any items are null, they're not in the dense cache.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PTCFunctionSet()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PTCFunctionSet</h4>
<pre>public&nbsp;PTCFunctionSet()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="terminalProbabilities(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminalProbabilities</h4>
<pre>public&nbsp;double[]&nbsp;terminalProbabilities(int&nbsp;type)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ec/gp/build/PTCFunctionSetForm.html#terminalProbabilities(int)">PTCFunctionSetForm</a></code></strong></div>
<div class="block">Returns an organized distribution (see ec.util.RandomChoice) of likelihoods
        that various terminals in the function set will be chosen over other terminals
        with the same return type.  The ordering of the array is the same as
        the terminals[type][...] array in GPFunctionSet.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ec/gp/build/PTCFunctionSetForm.html#terminalProbabilities(int)">terminalProbabilities</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ec/gp/build/PTCFunctionSetForm.html" title="interface in ec.gp.build">PTCFunctionSetForm</a></code></dd>
</dl>
</li>
</ul>
<a name="nonterminalProbabilities(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonterminalProbabilities</h4>
<pre>public&nbsp;double[]&nbsp;nonterminalProbabilities(int&nbsp;type)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ec/gp/build/PTCFunctionSetForm.html#nonterminalProbabilities(int)">PTCFunctionSetForm</a></code></strong></div>
<div class="block">Returns an organized distribution (see ec.util.RandomChoice) of likelihoods
        that various nonterminals in the function set will be chosen over other nonterminals
        with the same return type. The ordering of the array is the same as
        the nonterminals[type][...] array in GPFunctionSet.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ec/gp/build/PTCFunctionSetForm.html#nonterminalProbabilities(int)">nonterminalProbabilities</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ec/gp/build/PTCFunctionSetForm.html" title="interface in ec.gp.build">PTCFunctionSetForm</a></code></dd>
</dl>
</li>
</ul>
<a name="setup(ec.EvolutionState, ec.util.Parameter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>public&nbsp;void&nbsp;setup(<a href="../../../ec/EvolutionState.html" title="class in ec">EvolutionState</a>&nbsp;state,
         <a href="../../../ec/util/Parameter.html" title="class in ec.util">Parameter</a>&nbsp;base)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../ec/gp/GPFunctionSet.html#setup(ec.EvolutionState, ec.util.Parameter)">GPFunctionSet</a></code></strong></div>
<div class="block">Must be done <i>after</i> GPType and GPNodeConstraints have been set up</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ec/Setup.html#setup(ec.EvolutionState, ec.util.Parameter)">setup</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ec/Setup.html" title="interface in ec">Setup</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../ec/gp/GPFunctionSet.html#setup(ec.EvolutionState, ec.util.Parameter)">setup</a></code>&nbsp;in class&nbsp;<code><a href="../../../ec/gp/GPFunctionSet.html" title="class in ec.gp">GPFunctionSet</a></code></dd>
</dl>
</li>
</ul>
<a name="nonterminalSelectionProbabilities(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonterminalSelectionProbabilities</h4>
<pre>public&nbsp;double[]&nbsp;nonterminalSelectionProbabilities(int&nbsp;expectedTreeSize)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../ec/gp/build/PTCFunctionSetForm.html#nonterminalSelectionProbabilities(int)">PTCFunctionSetForm</a></code></strong></div>
<div class="block">Returns an array (by return type) of the probability that PTC1 must pick a
        nonterminal over a terminal in order to guarantee the expectedTreeSize.
        Only used by PTC1, not by PTC2.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../ec/gp/build/PTCFunctionSetForm.html#nonterminalSelectionProbabilities(int)">nonterminalSelectionProbabilities</a></code>&nbsp;in interface&nbsp;<code><a href="../../../ec/gp/build/PTCFunctionSetForm.html" title="interface in ec.gp.build">PTCFunctionSetForm</a></code></dd>
</dl>
</li>
</ul>
<a name="computeNonterminalSelectionProbabilities(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>computeNonterminalSelectionProbabilities</h4>
<pre>public&nbsp;double[]&nbsp;computeNonterminalSelectionProbabilities(int&nbsp;expectedTreeSize)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../ec/gp/build/PTC2.html" title="class in ec.gp.build"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../ec/gp/build/PTCFunctionSetForm.html" title="interface in ec.gp.build"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?ec/gp/build/PTCFunctionSet.html" target="_top">Frames</a></li>
<li><a href="PTCFunctionSet.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
